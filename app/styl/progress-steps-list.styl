@import nib

@import colors
@import media-query-variables

ul.progress-steps-list
  list-style none
  padding 0
  margin 0
  text-align center

  > li
    display inline

    .progress-step
      display inline-block
      cursor default
      position relative
      padding-top 1.5em
      color lightLineGray

      .step-text
        display inline-block
        font-size .8em
        text-transform uppercase
        letter-spacing .05em
        text-indent @letter-spacing
        transition opacity .3s
        white-space nowrap
        overflow ellipsis

      &.completed

        .step-text
          background linear-gradient(lighterLineGray, lighterLineGray)
          background-size 1px 1px
          background-repeat repeat-x
          background-position 0% 47%

      &.active
        color brandPink

      .tooltip
        display none // TODO

      &:after
        content ""
        display block
        position absolute
        top 0
        left 0
        right 0
        margin-left auto
        margin-right auto
        width 1em
        height 1em
        border-radius 50%
        box-shadow inset 0 0 0 5em
        opacity .85

      &.completed:after
        color brandPink

      &.active:after
        border .1875em solid
        box-shadow none

      &:before
        content ""
        display block
        position absolute
        top .4375em
        right 50%
        width 100%
        border .75em solid transparent
        border-top 0
        border-bottom 0
        height .1875em
        color inherit
        box-shadow inset -14em 0 lightLineGray, inset 0 0 0 5em
        transition box-shadow .6s linear
        opacity .5

      &.completed:before
        color brandPink

      &.completed:before, &.active:before
        box-shadow inset 0 0 lightLineGray, inset 0 0 0 5em

    &:first-child .progress-step:before
      display none

  &.progress-steps-count-two > li

    &:nth-child(1) .progress-step
      z-index 2

    &:nth-child(2) .progress-step
      z-index 1

    .progress-step
      width 50%
      max-width 8em

  &.progress-steps-count-three > li

    &:nth-child(1) .progress-step
      z-index 3

    &:nth-child(2) .progress-step
      z-index 2

    &:nth-child(3) .progress-step
      z-index 1

    .progress-step
      width 33.33%
      max-width 8em
