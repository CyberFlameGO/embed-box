{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///universal-embed-custom-page.min.js","webpack:///webpack/bootstrap dd33a7c33d6209449adc","webpack:///./app/components/base-page/index.js","webpack:///./app/components/base-component.js","webpack:///./app/lib/store.js","webpack:///./custom-page.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","Object","defineProperty","configurable","enumerable","get","o","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0_components_base_component__","BasePage","_class","_temp","_createClass","defineProperties","target","props","length","descriptor","key","protoProps","staticProps","_BaseComponent","getPrototypeOf","apply","arguments","_constructor","id","templateVars","compileTemplate","element","setAttribute","className","extend","_class2","_temp2","_ref","undefined","fallback","label","template","Error","_BasePage","CustomPage","__WEBPACK_IMPORTED_MODULE_0_lib_store__","BaseComponent","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","push","err","Array","isArray","_extends","assign","source","ARRAY_REF_PATTERN","spec","refs","serializer","document","createElement","stylesheet","iframeDocument","iframe","head","contains","style","innerHTML","appendChild","focusElement","querySelector","focus","from","querySelectorAll","forEach","attribute","getAttribute","_attribute$match","match","_attribute$match2","arrayKey","removeAttribute","options","config","firstChild","updateRefs","sibling","parentNode","insertBefore","current","removeChild","getStore","store"],"mappings":"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","file":"universal-embed-custom-page.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"UniversalEmbedCustomPage\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"UniversalEmbedCustomPage\"] = factory();\n\telse\n\t\troot[\"UniversalEmbedCustomPage\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"UniversalEmbedCustomPage\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"UniversalEmbedCustomPage\"] = factory();\n\telse\n\t\troot[\"UniversalEmbedCustomPage\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmory imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmory exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tObject.defineProperty(exports, name, {\n/******/ \t\t\tconfigurable: false,\n/******/ \t\t\tenumerable: true,\n/******/ \t\t\tget: getter\n/******/ \t\t});\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_components_base_component__ = __webpack_require__(1);\n\n/* harmony export */ __webpack_require__.d(exports, \"default\", function() { return BasePage; });var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\nvar BasePage = (_temp = _class = function (_BaseComponent) {\n  _inherits(BasePage, _BaseComponent);\n\n  function BasePage() {\n    _classCallCheck(this, BasePage);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(BasePage).apply(this, arguments));\n  }\n\n  _createClass(BasePage, [{\n    key: \"compileTemplate\",\n    value: function compileTemplate() {\n      var _constructor = this.constructor;\n      var id = _constructor.id;\n      var templateVars = _constructor.templateVars;\n\n\n      __WEBPACK_IMPORTED_MODULE_0_components_base_component__[\"a\" /* default */].prototype.compileTemplate.call(this, templateVars);\n\n      this.element.setAttribute(\"data-component\", id + \"-page\");\n      this.element.setAttribute(\"data-column\", \"\");\n      this.element.setAttribute(\"autofocus\", \"\");\n      this.element.className = \"markdown instructions \" + (this.element.className || \"\");\n\n      return this.element;\n    }\n  }]);\n\n  return BasePage;\n}(__WEBPACK_IMPORTED_MODULE_0_components_base_component__[\"a\" /* default */]), _class.extend = function extend() {\n  var _class2, _temp2;\n\n  var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  var fallback = _ref.fallback;\n  var id = _ref.id;\n  var label = _ref.label;\n  var template = _ref.template;\n  var templateVars = _ref.templateVars;\n\n  if (!id) throw new Error(\"UniversalEmbed: Page must have `id`\");\n  if (!label) throw new Error(\"UniversalEmbed: Page must have `label`\");\n\n  return _temp2 = _class2 = function (_BasePage) {\n    _inherits(CustomPage, _BasePage);\n\n    function CustomPage() {\n      _classCallCheck(this, CustomPage);\n\n      return _possibleConstructorReturn(this, Object.getPrototypeOf(CustomPage).apply(this, arguments));\n    }\n\n    return CustomPage;\n  }(BasePage), _class2.fallback = fallback || false, _class2.id = id, _class2.label = label, _class2.template = template || \"\", _class2.templateVars = templateVars || {}, _temp2;\n}, _temp);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lib_store__ = __webpack_require__(2);\n\n/* harmony export */ __webpack_require__.d(exports, \"a\", function() { return BaseComponent; });var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n// Ends with brackets e.g. [data-ref=\"foo[]\"]\nvar ARRAY_REF_PATTERN = /([a-zA-Z\\d]*)(\\[?\\]?)/;\n\nvar BaseComponent = (_temp = _class = function () {\n  function BaseComponent() {\n    var spec = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    _classCallCheck(this, BaseComponent);\n\n    this.element = null;\n    this.refs = {};\n    this.serializer = document.createElement(\"div\");\n\n    _extends(this, spec);\n\n    var stylesheet = this.constructor.stylesheet;\n    var iframeDocument = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lib_store__[\"a\" /* getStore */])().iframe.document;\n\n\n    if (stylesheet && !iframeDocument.head.contains(this.constructor.style)) {\n      // Common style tag has yet to be inserted in iframe.\n      var style = this.constructor.style = iframeDocument.createElement(\"style\");\n\n      style.innerHTML = stylesheet;\n      iframeDocument.head.appendChild(style);\n    }\n  }\n\n  _createClass(BaseComponent, [{\n    key: \"autofocus\",\n    value: function autofocus() {\n      var focusElement = this.element.querySelector(\"[autofocus]\");\n\n      if (focusElement) focusElement.focus();\n    }\n\n    // NOTE: Calling `updateRefs` multiple times from different tree depths may\n    // allow parents to inherit a grandchild.\n\n  }, {\n    key: \"updateRefs\",\n    value: function updateRefs() {\n      var refs = this.refs;\n\n\n      Array.from(this.element.querySelectorAll(\"[data-ref]\")).forEach(function (element) {\n        var attribute = element.getAttribute(\"data-ref\");\n\n        var _attribute$match = attribute.match(ARRAY_REF_PATTERN);\n\n        var _attribute$match2 = _slicedToArray(_attribute$match, 3);\n\n        var key = _attribute$match2[1];\n        var arrayKey = _attribute$match2[2];\n\n\n        if (arrayKey) {\n          // Multiple elements\n          if (!Array.isArray(refs[key])) refs[key] = [];\n\n          refs[key].push(element);\n        } else {\n          // Single element\n          refs[key] = element;\n        }\n\n        element.removeAttribute(\"data-ref\");\n      });\n    }\n  }, {\n    key: \"compileTemplate\",\n    value: function compileTemplate() {\n      var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n      var template = this.constructor.template;\n\n\n      if (typeof template === \"function\") {\n        this.serializer.innerHTML = template(_extends({ config: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lib_store__[\"a\" /* getStore */])() }, options));\n      } else {\n        this.serializer.innerHTML = template;\n      }\n\n      this.element = this.serializer.firstChild;\n      this.updateRefs();\n\n      return this.element;\n    }\n  }, {\n    key: \"insertBefore\",\n    value: function insertBefore(sibling, element) {\n      element.parentNode.insertBefore(sibling, element);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.compileTemplate();\n    }\n\n    // TODO: Check if this used after the app is fleshed out.\n\n  }, {\n    key: \"replaceElement\",\n    value: function replaceElement(current, next) {\n      current.parentNode.insertBefore(next, current);\n      current.parentNode.removeChild(current);\n\n      this.updateRefs();\n    }\n  }]);\n\n  return BaseComponent;\n}(), _class.template = null, _class.stylesheet = null, _temp);\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export initializeStore *//* harmony export */ exports[\"a\"] = getStore;var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar store = null;\n\nfunction initializeStore(instance) {\n  var spec = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n  var iframe = document.createElement(\"iframe\");\n  var _spec$appName = spec.appName;\n  var appName = _spec$appName === undefined ? \"an app\" : _spec$appName;\n  var _spec$beforeContent = spec.beforeContent;\n  var beforeContent = _spec$beforeContent === undefined ? \"\" : _spec$beforeContent;\n  var _spec$afterContent = spec.afterContent;\n  var afterContent = _spec$afterContent === undefined ? \"\" : _spec$afterContent;\n  var _spec$labels = spec.labels;\n  var labels = _spec$labels === undefined ? {} : _spec$labels;\n\n\n  store = {\n    appName: appName,\n    instance: instance,\n\n    beforeContent: beforeContent,\n    afterContent: afterContent,\n\n    iframe: {\n      element: iframe,\n      get document() {\n        return iframe.contentDocument;\n      },\n      get window() {\n        return iframe.contentWindow;\n      }\n    },\n\n    labels: _extends({\n      done: \"Done\",\n      searchPlaceholder: \"Select or search the type of website you have...\",\n      next: \"Next\",\n      title: function title(appName) {\n        return \"Add \" + appName + \" to your site\";\n      }\n    }, labels)\n  };\n\n  return store;\n}\n\nfunction getStore() {\n  return store;\n}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n/* eslint-env node, es6 */\nvar BasePage = __webpack_require__(0).default;\n\nmodule.exports = BasePage;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// universal-embed-custom-page.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dd33a7c33d6209449adc","import BaseComponent from \"components/base-component\"\n\nexport default class BasePage extends BaseComponent {\n  static extend = function extend({fallback, id, label, template, templateVars} = {}) {\n    if (!id) throw new Error(\"UniversalEmbed: Page must have `id`\")\n    if (!label) throw new Error(\"UniversalEmbed: Page must have `label`\")\n\n    return class CustomPage extends BasePage {\n      static fallback = fallback || false;\n      static id = id;\n      static label = label;\n      static template = template || \"\";\n      static templateVars = templateVars || {}\n    }\n  };\n\n  compileTemplate() {\n    const {id, templateVars} = this.constructor\n\n    BaseComponent.prototype.compileTemplate.call(this, templateVars)\n\n    this.element.setAttribute(\"data-component\", `${id}-page`)\n    this.element.setAttribute(\"data-column\", \"\")\n    this.element.setAttribute(\"autofocus\", \"\")\n    this.element.className = `markdown instructions ${this.element.className || \"\"}`\n\n    return this.element\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/components/base-page/index.js","import {getStore} from \"lib/store\"\n\n// Ends with brackets e.g. [data-ref=\"foo[]\"]\nconst ARRAY_REF_PATTERN = /([a-zA-Z\\d]*)(\\[?\\]?)/\n\nexport default class BaseComponent {\n  static template = null;\n  static stylesheet = null;\n\n  element = null;\n  refs = {};\n  serializer = document.createElement(\"div\");\n\n  constructor(spec = {}) {\n    Object.assign(this, spec)\n\n    const {stylesheet} = this.constructor\n    const {document: iframeDocument} = getStore().iframe\n\n    if (stylesheet && !iframeDocument.head.contains(this.constructor.style)) {\n      // Common style tag has yet to be inserted in iframe.\n      const style = this.constructor.style = iframeDocument.createElement(\"style\")\n\n      style.innerHTML = stylesheet\n      iframeDocument.head.appendChild(style)\n    }\n  }\n\n  autofocus() {\n    const focusElement = this.element.querySelector(\"[autofocus]\")\n\n    if (focusElement) focusElement.focus()\n  }\n\n  // NOTE: Calling `updateRefs` multiple times from different tree depths may\n  // allow parents to inherit a grandchild.\n  updateRefs() {\n    const {refs} = this\n\n    Array\n      .from(this.element.querySelectorAll(\"[data-ref]\"))\n      .forEach(element => {\n        const attribute = element.getAttribute(\"data-ref\")\n        const [, key, arrayKey] = attribute.match(ARRAY_REF_PATTERN)\n\n        if (arrayKey) {\n          // Multiple elements\n          if (!Array.isArray(refs[key])) refs[key] = []\n\n          refs[key].push(element)\n        }\n        else {\n          // Single element\n          refs[key] = element\n        }\n\n        element.removeAttribute(\"data-ref\")\n      })\n  }\n\n  compileTemplate(options = {}) {\n    const {template} = this.constructor\n\n    if (typeof template === \"function\") {\n      this.serializer.innerHTML = template({config: getStore(), ...options})\n    }\n    else {\n      this.serializer.innerHTML = template\n    }\n\n    this.element = this.serializer.firstChild\n    this.updateRefs()\n\n    return this.element\n  }\n\n  insertBefore(sibling, element) {\n    element.parentNode.insertBefore(sibling, element)\n  }\n\n  render() {\n    return this.compileTemplate()\n  }\n\n  // TODO: Check if this used after the app is fleshed out.\n  replaceElement(current, next) {\n    current.parentNode.insertBefore(next, current)\n    current.parentNode.removeChild(current)\n\n    this.updateRefs()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/components/base-component.js","let store = null\n\nexport function initializeStore(instance, spec = {}) {\n  const iframe = document.createElement(\"iframe\")\n  const {appName = \"an app\", beforeContent = \"\", afterContent = \"\", labels = {}} = spec\n\n  store = {\n    appName,\n    instance,\n\n    beforeContent,\n    afterContent,\n\n    iframe: {\n      element: iframe,\n      get document() {\n        return iframe.contentDocument\n      },\n      get window() {\n        return iframe.contentWindow\n      }\n    },\n\n    labels: {\n      done: \"Done\",\n      searchPlaceholder: \"Select or search the type of website you have...\",\n      next: \"Next\",\n      title: appName => `Add ${appName} to your site`,\n      ...labels\n    }\n  }\n\n  return store\n}\n\nexport function getStore() {\n  return store\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/lib/store.js","/* eslint-env node, es6 */\nconst BasePage = require(\"./app/components/base-page\").default\n\nmodule.exports = BasePage\n\n\n\n// WEBPACK FOOTER //\n// ./custom-page.js"],"sourceRoot":""}